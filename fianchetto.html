<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fianchetto — Online Chess Course</title>
  <link rel="stylesheet" href="sicilian.css" />
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">OC</div>
        <div>
          <h1>Fianchetto</h1>
          <p>Long-range bishop pressure from the flank</p>
        </div>
      </div>
    </header>

    <main>
      <section class="card" style="margin-top:20px;">
        <h2>Description</h2>
        <p>Fianchettoing the bishop (e.g., g3 and Bg2) aims for long-range control of key diagonals.
           It’s commonly used in hypermodern systems, emphasizing flexibility and positional pressure
           over immediate centre occupation.</p>
      </section>

      <div class="media-grid" style="margin-top:18px;">
        <!-- Video card -->
        <article class="media-card video-box" aria-label="Fianchetto lesson video">
          <div class="media" role="region" aria-label="Video player">
            <img class="poster" src="fianchetto.png" alt="Fianchetto poster" />
            <button class="play-overlay" aria-label="Play video" data-video-id="kK0cq6UBt1Y">▶</button>
          </div>
          <div class="meta">
            <div class="kv">
              <h2 class="title">Fianchetto — Lesson</h2>
              <span class="media-badge">Lesson</span>
            </div>
            <p class="caption">Ideas, typical setups and how to exploit the long diagonal.</p>
          </div>
        </article>

        <!-- Image card -->
        <aside class="media-card image-box sidebar" aria-label="Fianchetto diagram">
          <div class="media">
            <img src="fianchetto.png" alt="Diagram: Fianchetto example" />
          </div>
          <div class="meta">
            <h2 class="title">Position Diagram</h2>
            <p class="caption">Reference diagram illustrating the fianchetto setup.</p>
            <div style="margin-top:8px;display:flex;gap:8px;">
              <a class="btn btn-primary" href="#" role="button">View more</a>
              <a class="btn" href="fianchetto.png" download>Download</a>
            </div>
          </div>
        </aside>
      </div>
    </main>

    <footer>
      <div class="small">© Online Chess Course</div>
      <div class="small">Made with ♟️</div>
    </footer>
  </div>

  <script>
    // lazy-load YouTube iframe on play
    document.addEventListener('click', function (e) {
      const btn = e.target.closest('.play-overlay');
      if (!btn) return;
      const container = btn.closest('.media');
      const id = btn.getAttribute('data-video-id');
      if (!id || !container) return;
      const iframe = document.createElement('iframe');
      iframe.src = 'https://www.youtube.com/embed/' + encodeURIComponent(id) + '?rel=0&autoplay=1';
      iframe.title = 'Fianchetto lesson video';
      iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
      iframe.setAttribute('frameborder', '0');
      iframe.setAttribute('allowfullscreen', '');
      iframe.style.width = '100%';
      iframe.style.height = '100%';
      container.innerHTML = '';
      container.appendChild(iframe);
    });
  </script>
</body>
</html>
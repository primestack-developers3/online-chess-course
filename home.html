<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Online Chess Courses</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- page styles & animations -->
    <style>
        :root{
            /* Unified Dark/Amber Theme Variables */
            --bg-1:#1a1a1a; /* Deep charcoal */
            --bg-2:#0a0a0a; /* Pure black */
            --accent:#f59e0b; /* Tailwind Amber-500 */
            --muted:#a3a3a3; /* Gray-400 */
            --card:#1c1c1c; /* Dark card background */
            --glass: rgba(255,255,255,0.08); /* Stronger glass effect */
            --glass-2: rgba(255,255,255,0.04);
            --radius:14px;
            --shadow: 0 10px 40px rgba(0,0,0,0.8);
            --ease:cubic-bezier(.2,.9,.3,1);
        }

        html,body{
            height:100%;
            margin:0;
            font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            /* Use radial gradient for depth, matching the previous theme */
            background: radial-gradient(circle at center, var(--bg-1) 0%, var(--bg-2) 100%);
            color:#e6eef6;
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
            perspective: 1000px; /* Enable 3D perspective for body */
            overflow-x: hidden;
        }

        /* page container */
        .wrap{
            max-width:1100px;
            margin:32px auto;
            padding:28px;
            position:relative;
            z-index: 10; /* Ensure content is above floating elements */
        }

        header{
            display:flex;
            align-items:center;
            gap:20px;
            margin-bottom:26px;
            /* Enhanced glass/border effect */
            background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04));
            border: 1px solid rgba(255,255,255,0.1);
            padding:18px;
            border-radius:16px;
            box-shadow: var(--shadow);
            backdrop-filter: blur(8px); /* Increased blur */
            position: relative;
            overflow: hidden;
            transition: box-shadow 0.3s ease;
        }
        
        header:hover {
            box-shadow: 0 10px 40px rgba(0,0,0,0.9), 0 0 20px var(--accent); /* Subtle glow on hover */
        }

        /* Logo Styling */
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 96px;
            height: 96px;
            border-radius: var(--radius);
            color: var(--bg-2);
            /* Enhanced gradient with depth */
            background: linear-gradient(135deg, var(--accent), #ffbf00, #ffb347);
            font-size: 40px;
            transform-origin: center;
            animation: logo-bob 4s infinite alternate ease-in-out;
            box-shadow: 0 8px 24px rgba(0,0,0,0.5);
            overflow: hidden;
            flex-shrink: 0;
            position: relative;
            /* Added a subtle inner glow */
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        @keyframes logo-bob{
            from { transform: translateY(0) rotate(0.5deg) scale(1); }
            to { transform: translateY(-6px) rotate(-0.5deg) scale(1.03); }
        }

        header .brand-info{
            display:flex;
            flex-direction:column;
            gap:4px;
        }

        header h1{
            margin:0;
            font-size:22px;
            letter-spacing:0.2px;
        }
        header p{ margin:0;color:var(--muted);font-size:13px; }

        nav{
            margin-left:auto;
        }
        nav ul{
            list-style:none;
            margin:0;
            padding:4px;
            display:flex;
            gap:8px;
            align-items:center;
            /* soft pill background for nav */
            background: linear-gradient(90deg, rgba(255,255,255,0.018), rgba(255,255,255,0.01));
            border: 1px solid rgba(255,255,255,0.05); /* Added subtle border */
            border-radius: 999px;
            padding: 6px 8px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.25);
        }
        nav a {
            display:inline-block;
            text-decoration:none;
            color:inherit;
            font-weight:600;
        }
        .nav-btn{
            background: transparent;
            color:var(--muted);
            padding:8px 12px;
            border-radius:999px;
            border:0;
            box-shadow: none;
            transform:translateY(0);
            transition: all .25s var(--ease); /* Increased transition time for smoothness */
            font-size:13px;
        }
        .nav-btn:hover{
            transform: translateY(-4px) scale(1.05); /* Enhanced hover lift and scale */
            color: #fff;
            background: linear-gradient(90deg, #333, #555);
            box-shadow: 0 16px 35px rgba(0,0,0,0.6); /* Deeper shadow */
        }

        /* Active / current page style */
        .nav-btn.active{
            color: #111827;
            background: linear-gradient(90deg, var(--accent), #ffbf00);
            box-shadow: 0 10px 30px rgba(245, 158, 11, 0.5), 0 4px 10px rgba(0,0,0,0.25);
            transform: translateY(-2px);
        }

        /* Hero / news box */
        .newsbox{
            display:grid;
            grid-template-columns: 1fr 360px;
            gap:22px;
            align-items:start;
            margin-top:22px;
        }

        .news-main{
            background: linear-gradient(180deg, rgba(255,255,255,0.04), var(--glass));
            border-radius: var(--radius);
            padding:22px;
            box-shadow:var(--shadow);
            overflow:hidden;
            border: 1px solid rgba(255,255,255,0.1); /* Added border */
            transform:translateY(18px);
            opacity:0;
            transition:all .7s var(--ease);
        }
        .news-main.reveal{ transform:none; opacity:1; }

        .news-main h1{ margin-top:0; font-size:20px; color:var(--accent); }
        .news-main h2{ margin:8px 0 14px 0; font-size:18px; color:#fff; }
        .news-main p{ color:var(--muted); line-height:1.55; margin:0; }

        .news-side{
            background: linear-gradient(180deg,var(--glass-2), rgba(255,255,255,0.01));
            border-radius:var(--radius);
            padding:14px;
            display:flex;
            flex-direction:column;
            align-items:center;
            gap:12px;
            border: 1px solid rgba(255,255,255,0.05); /* Added border */
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transform:translateY(26px);
            opacity:0;
            transition:all .7s .12s var(--ease);
        }
        .news-side.reveal{ transform:none; opacity:1; }

        .news-side img{ width:100%; border-radius:10px; box-shadow: 0 8px 24px rgba(0,0,0,0.45); }

        /* Courses grid */
        #courses{
            margin-top:36px;
            display:grid;
            gap:16px;
        }

        /* --- Chess Piece Animation Enhancement --- */
        .chess-piece {
            position: fixed; /* Changed to fixed for better parallax feel */
            z-index: 0;
            pointer-events: none;
            animation: float 8s ease-in-out infinite, rotate-3d 12s linear infinite; /* Added subtle rotation */
            color: var(--accent); 
            opacity: 0.1; /* Made slightly more subtle */
            filter: drop-shadow(0 0 6px rgba(245, 158, 11, 0.8)); /* Stronger glow */
            transition: opacity 0.3s;
        }

        @keyframes float {
            0% { transform: translateY(0px) rotateZ(0deg) translateZ(0); opacity: 0.1; }
            50% { transform: translateY(-20px) rotateZ(3deg) translateZ(20px); opacity: 0.05; } /* Added Z translation for depth */
            100% { transform: translateY(0px) rotateZ(0deg) translateZ(0); opacity: 0.1; }
        }
        
        @keyframes rotate-3d {
            from { transform: rotateY(0deg); }
            to { transform: rotateY(360deg); }
        }
        /* -------------------------------- */

        .courses-grid{
            display:grid;
            grid-template-columns: repeat(auto-fit,minmax(200px,1fr));
            gap:18px;
            margin-top:8px;
        }

        .course-card{
            background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
            border-radius:14px;
            padding:22px;
            text-align:center;
            border: 1px solid rgba(255,255,255,0.05); /* Added border */
            box-shadow: 0 12px 30px rgba(0,0,0,0.5);
            transform:translateY(18px) scale(1) translateZ(0); /* Added translateZ for GPU acceleration */
            transition: transform .35s var(--ease), box-shadow .35s var(--ease), background .35s var(--ease);
            cursor:pointer;
            overflow:hidden;
            position: relative; /* Needed for pseudo-elements */
        }
        .course-card:hover{
            /* Lift effect + subtle background change */
            transform: translateY(-8px) scale(1.05); /* Increased lift and scale */
            box-shadow: 0 25px 50px rgba(0,0,0,0.9), 0 0 15px rgba(245, 158, 11, 0.4); /* Enhanced shadow/glow */
            background:linear-gradient(180deg, rgba(245,158,11,0.08), rgba(245,158,11,0.03)); /* Light amber hover background */
        }
        
        /* Subtle Corner Glow Effect on Card */
        .course-card::before {
            content: '';
            position: absolute;
            top: -50px;
            left: -50px;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, var(--accent) 0%, transparent 70%);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s ease, transform 0.4s ease;
            transform: translateZ(0);
        }

        .course-card:hover::before {
            opacity: 0.15;
            transform: translate(30px, 30px);
        }

        .course-card .title{ font-size:22px; margin:0;color:#fff; }
        .course-card .sub{ color:var(--muted); font-size:13px; margin-top:8px; }

        /* About / boxed text */
        .about-row{
            display:grid;
            grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
            gap:16px;
            margin-top:30px;
        }
        .boxed-text{
            background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
            border-radius:12px;
            padding:20px;
            border: 1px solid rgba(255,255,255,0.08); /* Added border */
            box-shadow: 0 6px 20px rgba(0,0,0,0.45);
            color:var(--muted);
            transition: transform 0.3s var(--ease);
        }
        .boxed-text:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.6);
        }
        .boxed-text h2{ margin-top:0; color:#fff; font-size:20px; }

        footer.footer{
            margin-top:34px;
            padding:18px;
            text-align:center;
            color:var(--muted);
            font-size:14px;
        }

        /* small decorative floating shapes */
        .float-shape{
            position:fixed;
            width:280px; /* Made larger */
            height:280px;
            right:-120px;
            top:-100px;
            /* Updated colors for the subtle background glow */
            background: radial-gradient(circle at 20% 20%, rgba(245, 158, 11, 0.25), transparent 40%),
                        radial-gradient(circle at 80% 80%, rgba(245, 158, 11, 0.15), transparent 50%);
            border-radius:50%;
            filter: blur(40px); /* Increased blur */
            pointer-events:none;
            transform:translateZ(-100px); /* Pushed back in 3D space */
            animation: float-slow 10s ease-in-out infinite; /* Slower animation */
            z-index:0;
        }
        .float-shape.bottom-left {
            top: auto;
            bottom: -100px;
            left: -120px;
            right: auto;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle at 80% 80%, rgba(245, 158, 11, 0.15), transparent 40%),
                        radial-gradient(circle at 20% 20%, rgba(245, 158, 11, 0.08), transparent 50%);
            animation-delay: -5s;
        }

        @keyframes float-slow{
            0%{ transform: translateY(0) translateX(0) rotate(0deg) translateZ(-100px); }
            50%{ transform: translateY(20px) translateX(-10px) rotate(6deg) translateZ(-80px); }
            100%{ transform: translateY(0) translateX(0) rotate(0deg) translateZ(-100px); }
        }
        /* responsive tweaks */
        @media (max-width:880px){
            .newsbox{ grid-template-columns: 1fr; }
            header{ flex-direction:column; align-items:start; gap:12px; }
            nav{ width:100%; display:flex; justify-content:flex-end; }
            /* slightly smaller logo on medium / mobile */
            .logo{ width:72px; height:72px; }
        }

        /* E-book display card */
        .ebook-display{
            margin-top:28px;
            display:flex;
            justify-content:center;
        }
        .ebook-card{
            display:flex;
            gap:18px;
            align-items:center;
            background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
            border-radius:12px;
            padding:16px;
            border: 1px solid rgba(255,255,255,0.1); /* Added border */
            box-shadow: 0 10px 30px rgba(0,0,0,0.45);
            max-width:820px;
            width:100%;
            align-items:center;
            transition: all 0.3s var(--ease);
        }
        .ebook-card:hover {
            box-shadow: 0 15px 40px rgba(0,0,0,0.7);
            background: linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
        }
        .ebook-thumb{
            width:120px;
            height:160px;
            border-radius:8px;
            background: linear-gradient(180deg, #333, #111);
            display:flex;
            align-items:center;
            justify-content:center;
            overflow:hidden;
            flex-shrink:0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.7);
            transition: transform 0.3s ease;
        }
        .ebook-card:hover .ebook-thumb {
            transform: rotateY(5deg) scale(1.05); /* Subtle 3D lift on thumb */
        }

        .ebook-thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
        .ebook-meta{ flex:1; }
        .ebook-meta h3{ margin:0 0 6px 0; font-size:18px; color:var(--accent); }
        .ebook-meta p{ margin:0 0 10px 0; color:var(--muted); }
        .ebook-actions{ display:flex; gap:10px; align-items:center; }
        /* Updated button gradient and hover */
        .ebook-actions .btn{ 
            background:linear-gradient(90deg, #f59e0b, #ffbf00); 
            color:black; 
            padding:10px 14px; 
            border-radius:10px; 
            text-decoration:none; 
            font-weight:700; 
            transition: transform 0.2s ease, box-shadow 0.2s ease; 
            box-shadow: 0 4px 10px rgba(245, 158, 11, 0.4); 
        }
        .ebook-actions .btn:hover { 
            transform: translateY(-3px); /* Increased lift */
            box-shadow: 0 10px 20px rgba(245, 158, 11, 0.6), 0 0 10px rgba(245, 158, 11, 0.8); /* Added glow */
        }
        .ebook-actions .btn:nth-child(2) {
            /* Secondary button style for contrast */
            background: transparent;
            color: var(--accent);
            border: 2px solid var(--accent);
            box-shadow: none;
            padding: 8px 12px;
        }
        .ebook-actions .btn:nth-child(2):hover {
            background: rgba(245, 158, 11, 0.1);
            transform: translateY(-1px);
            box-shadow: 0 0 10px rgba(245, 158, 11, 0.4);
        }

        @media (max-width:640px){
            .ebook-card{ flex-direction:column; align-items:center; text-align:center; gap:12px; }
            .ebook-thumb{ width:140px; height:190px; }
            .ebook-actions{ justify-content: center; }
        }

        /* Dashboard Styles */
        #dashboard {
            animation: slideInRight 0.5s var(--ease) forwards;
        }

        @keyframes slideInRight {
            from { 
                opacity: 0;
                transform: translateX(20px);
            }
            to { 
                opacity: 1;
                transform: translateX(0);
            }
        }

        #profilePic {
            transition: transform 0.3s var(--ease), box-shadow 0.3s var(--ease);
        }

        #profilePic:hover {
            transform: scale(1.1);
            box-shadow: 0 0 12px rgba(245, 158, 11, 0.6);
        }

        #loginBtn {
            transition: all 0.3s var(--ease);
        }

        #loginBtn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(245, 158, 11, 0.5);
        }
    </style>
</head>
<body>
    <div class="float-shape" aria-hidden="true"></div>
    <!-- Added a second floating shape for more background depth -->
    <div class="float-shape bottom-left" aria-hidden="true"></div>

    <div class="wrap">
        <header>
            <div class="logo" aria-hidden="true">
                <!-- SVG icon for logo (replaces video file) -->
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 2a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2 2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"/>
                    <path d="M7 21a2 2 0 0 1-2-2v-1a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2Z"/>
                    <path d="M12 13V8"/>
                    <path d="M8 13v-1a4 4 0 0 1 8 0v1Z"/>
                    <path d="M18 13H6l-2 4h16Z"/>
                </svg>
            </div>

            <div class="brand-info">
                <h1>Online Chess Courses</h1>
                <p>Practical lessons: openings, middlegame, endgame & tactics</p>
            </div>

            <nav aria-label="primary">
                <ul>
                    <li><a class="nav-btn" href="#courses">Courses</a></li>
                    <li><a class="nav-btn" href="#about">About</a></li>
                    <li><a class="nav-btn" href="policy.html">Privacy</a></li>
                    <li><a class="nav-btn" href="dashboard.html">Dashboard</a></li>
                    <li><a class="nav-btn" href="https://primestack-developers3.github.io/prime-stack-web/#contact">Contact</a></li>
                </ul>
            </nav>

            <!-- Dashboard / Auth Section -->
            <div id="authSection" style="margin-left:auto; display:flex; align-items:center; gap:12px;">
                <!-- Login Button (shown when not logged in) -->
                <a id="loginBtn" class="nav-btn" href="index.html" style="background: linear-gradient(90deg, var(--accent), #ffbf00); color:#000; font-weight:700;">Login</a>

                <!-- Dashboard (shown when logged in) -->
                <div id="dashboard" style="display:none; background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04)); border: 1px solid rgba(255,255,255,0.1); padding:8px 12px; border-radius:999px; display:flex; align-items:center; gap:10px;">
                    <img id="profilePic" src="https://api.dicebear.com/7.x/avataaars/svg?seed=User" alt="Profile" style="width:32px; height:32px; border-radius:50%; border:2px solid var(--accent); cursor:pointer;">
                    <div style="display:flex; flex-direction:column; gap:2px;">
                        <span id="username" style="font-size:13px; font-weight:600; color:#fff;"></span>
                        <span id="progressText" style="font-size:11px; color:var(--accent);"></span>
                    </div>
                    <button id="logoutBtn" class="nav-btn" style="padding:6px 10px; font-size:12px; margin:0;">Logout</button>
                </div>
            </div>
        </header>
    
        <!-- Corrected Chess Pieces with working 'float' animation. Positioned fixed and far back for 3D effect. -->
        <div class="chess-piece text-9xl fixed top-1/4 left-1/4 opacity-10" style="animation-delay: 0s; transform: translateZ(-200px);">â™”</div>
        <div class="chess-piece text-8xl fixed bottom-1/4 right-1/4 opacity-8" style="animation-delay: 2s; transform: translateZ(-150px);">â™˜</div>
        <div class="chess-piece text-7xl fixed top-10 right-10 opacity-6" style="animation-delay: 4s; transform: translateZ(-300px);">â™–</div>
        <div class="chess-piece text-6xl fixed bottom-1/3 left-10 opacity-4" style="animation-delay: 1s; transform: translateZ(-250px);">â™—</div>

        <section class="newsbox" aria-labelledby="testimonial-topic">
            <article class="news-main reveal-on-scroll" id="testimonial-topic" tabindex="0">
                <h1>Testimonial</h1>
                <h2>Amit â€” ChessHub user</h2>
                <p>
                    ChessHub has completely changed how I practice and learn â€” the interface is clean, lessons are focused, and puzzles
                    push you just the right amount. I noticed real improvement in my calculation and opening play after only a few weeks.
                    The site's speed and intuitive layout make studying enjoyable instead of a chore. Highly recommended for players who
                    want fast, practical progress.
                </p>
            </article>

            <aside class="news-side reveal-on-scroll" aria-label="highlight">
                <img src="https://placehold.co/360x240/1a1a1a/f59e0b?text=AMIT+TESTIMONIAL" alt="Comet Open winner" />
                <div style="text-align:center;color:var(--muted);font-size:13px;">Fan of Chess hub-Amit</div>
            </aside>
        </section>

        <!-- E-book display -->
        <section id="ebook" class="ebook-display" aria-labelledby="ebook-title">
            <div class="ebook-card reveal-on-scroll">
                <div class="ebook-thumb" aria-hidden="true">
                    <!-- Placeholder image instead of local file -->
                    <img id="ebook-image" src="https://placehold.co/120x160/1a1a1a/f59e0b?text=E-BOOK" alt="E-book cover placeholder" />
                </div>
                <div class="ebook-meta">
                    <h3 id="ebook-title">Practical Chess Guide (E-book)Â <small class="text-xs text-gray-500">(PDF)</small></h3>
                    <p>Read the full e-book for focused lessons, practice plans and puzzles. Click the button to open the document in a new tab.</p>
                    <div class="ebook-actions">
                        <a class="btn" href="./The%20Unbroken%20Spirit_%2010%20Lives%20Forged%20in%20Fire.pdf" target="_blank" rel="noopener noreferrer">Open e-book</a>
                        <a class="btn" href="./The%20Unbroken%20Spirit_%2010%20Lives%20Forged%20in%20Fire.pdf" download>Download</a>
                    </div>
                </div>
            </div>
        </section>

        <section class="newsbox" aria-labelledby="topic">
            <article class="news-main reveal-on-scroll" id="topic" tabindex="0">
                <h1>Topic Of The Month</h1>
                <h2>Hikaru Nakamura wins the 2025 Comet OpenÂ </h2>
                <p>
                    Hikaru Nakamura triumphed in the 2025 Comet Open, showcasing his trademark brilliance in online rapid chess.
                    Remaining unbeaten across six rounds, he defeated elite opposition and secured a decisive final. His composure,
                    precision and adaptability exemplify top-level online play â€” a fantastic demonstration for students of practical rapid strategy.
                </p>
            </article>

            <aside class="news-side reveal-on-scroll" aria-label="highlight">
                <img src="https://placehold.co/360x240/1a1a1a/f59e0b?text=COMET+OPEN+WINNER" alt="Comet Open winner" />
                <div style="text-align:center;color:var(--muted);font-size:13px;">Winner: Hikaru Nakamura â€” Comet Open 2025</div>
            </aside>
        </section>

        <section id="courses" aria-labelledby="courses-title">
            <h2 id="courses-title" style="margin:18px 0 0;color:var(--accent)">Our Courses</h2>

            <div class="courses-grid">
                <a class="course-card reveal-on-scroll" href="openings.html" aria-label="openings course" data-delay="0s">
                    <div class="title">Openings</div>
                    <div class="sub">Build a reliable repertoire & early plans</div>
                </a>

                <a class="course-card reveal-on-scroll" href="midlegame.html" aria-label="middlegame course" data-delay="0.05s">
                    <div class="title">Middlegame</div>
                    <div class="sub">Positional play, planning & tactics</div>
                </a>

                <a class="course-card reveal-on-scroll" href="endgame.html" aria-label="endgame course" data-delay="0.10s">
                    <div class="title">Endgame</div>
                    <div class="sub">Technique that converts advantages</div>
                </a>

                <a class="course-card reveal-on-scroll" href="puzzles.html" aria-label="puzzles course" data-delay="0.15s">
                    <div class="title">Puzzles</div>
                    <div class="sub">Tactics trainer â€” sharpen calculation</div>
                </a>

                <a class="course-card reveal-on-scroll" href="board.html" aria-label="board tools" data-delay="0.20s">
                    <div class="title">Chess Board</div>
                    <div class="sub">Practice positions & play online</div>
                </a>

                <a class="course-card reveal-on-scroll" href="store.html" aria-label="board tools" data-delay="0.25s">
                    <div class="title">Chess Store</div>
                    <div class="sub">View physical and digital products</div>
                </a>
            </div>
        </section>

        <section id="about" aria-labelledby="about-title" style="margin-top:28px;">
            <div class="about-row">
                <div class="boxed-text reveal-on-scroll" data-delay="0.30s">
                    <h2 id="about-title">About Us</h2>
                    <p>We are a team of passionate 15-year-old developers building websites that work and inspire. At Prime Stack we turn ideas into functional, beautiful and scalable sites for creators and startups.</p>
                </div>

                <div class="boxed-text reveal-on-scroll" data-delay="0.35s">
                    <h2>Our VisionÂ </h2>
                    <p>We aim to inspire young minds by delivering high-quality chess education, fostering critical thinking, strategy and lifelong learning skills.</p>
                </div>
            </div>
        </section><br><br>

 <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/playlist/322Ec4ujHd0t38783B0GiV?utm_source=generator&theme=0" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>

        <footer class="footer">
            contact us at: primestack.webdevelopers@gmail.com
        </footer>
    </div>

    <!-- small script to reveal elements and add subtle entrance animations -->
    <script>
        (function(){
            // Check for previous scroll position to handle immediate reveals if necessary
            const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

            const observer = new IntersectionObserver((entries)=>{
                entries.forEach(entry=>{
                    if(entry.isIntersecting){
                        entry.target.classList.add('reveal');
                        
                        // Apply stagger delay only if not set via JS (for newsbox elements)
                        if(entry.target.classList.contains('reveal-on-scroll')){
                            if(entry.target.dataset.delay){
                                entry.target.style.transitionDelay = entry.target.dataset.delay;
                            } else {
                                entry.target.style.transitionDelay = '0s';
                            }
                        }
                        observer.unobserve(entry.target);
                    }
                });
            }, {threshold: prefersReducedMotion ? 0.0 : 0.12}); // Lower threshold for non-motion preferred users

            document.querySelectorAll('.reveal-on-scroll, .course-card, .news-side, .news-main, .ebook-card').forEach((el,i)=>{
                // Ensure all revealable elements are observed, including the new .ebook-card
                if (!el.dataset.delay) {
                    el.dataset.delay = (i * 0.05) + 's'; // Default stagger if not explicitly set in HTML
                }
                observer.observe(el);
            });

            // CSS class applied by observer (keeps TS/JS small):
            const style = document.createElement('style');
            style.textContent = `
                .reveal { opacity:1 !important; transform:none !important; }
                .reveal-on-scroll, .ebook-card { opacity:0; transform: translateY(18px); transition: all .7s cubic-bezier(.2,.9,.3,1); }
                .news-main.reveal-on-scroll { opacity:0; transform: translateY(18px); }
                .news-side.reveal-on-scroll { opacity:0; transform: translateY(26px); }
                .course-card { opacity:0; transform: translateY(18px); transition: all .55s cubic-bezier(.2,.9,.3,1); }
            `;
            document.head.appendChild(style);

            // tiny header link smooth scroll
            document.querySelectorAll('a[href^="#"]').forEach(a=>{
                a.addEventListener('click', (ev)=>{
                    ev.preventDefault();
                    const id = a.getAttribute('href').slice(1);
                    const target = document.getElementById(id);
                    if(target) target.scrollIntoView({behavior:'smooth', block:'start'});
                });
            });

            // Highlight nav link when clicked and detect initial active link
            const navLinks = document.querySelectorAll('nav a.nav-btn');
            if(!navLinks || navLinks.length===0) return;

            navLinks.forEach(a=>{
                // set active on click
                a.addEventListener('click', ()=>{
                    navLinks.forEach(x=>x.classList.remove('active'));
                    a.classList.add('active');
                });

                // set initial active by hash
                const href = a.getAttribute('href');
                if(location.hash && href === location.hash) a.classList.add('active');

                // set active by pathname (for page links)
                try{
                    const linkPath = new URL(a.href, location.href).pathname;
                    if(linkPath === location.pathname && !href.startsWith('#')) a.classList.add('active');
                }catch(e){}
            });
        })();
    </script>

    <script>
        // Chess Hub Authentication & Dashboard
        class ChessAuthDashboard {
            constructor() {
                this.storageKey = 'chessHubUser';
                this.progressKey = 'chessHubProgress';
                this.init();
            }

            init() {
                this.updateDashboard();
                this.setupEventListeners();
            }

            getUser() {
                return JSON.parse(localStorage.getItem(this.storageKey));
            }

            getLessonProgress() {
                const user = this.getUser();
                if (!user) return {};
                const progressKey = this.progressKey + '_' + user.username;
                return JSON.parse(localStorage.getItem(progressKey) || '{}');
            }

            getCompletionPercentage() {
                const progress = this.getLessonProgress();
                const lessons = ['openings', 'midlegame', 'endgame', 'puzzles', 'board'];
                const completed = Object.keys(progress).length;
                return Math.round((completed / lessons.length) * 100);
            }

            updateDashboard() {
                const user = this.getUser();
                const loginBtn = document.getElementById('loginBtn');
                const dashboard = document.getElementById('dashboard');
                const username = document.getElementById('username');
                const progressText = document.getElementById('progressText');
                const profilePic = document.getElementById('profilePic');

                if (user) {
                    // User is logged in
                    loginBtn.style.display = 'none';
                    dashboard.style.display = 'flex';

                    // Set username
                    username.textContent = user.isGuest ? 'ðŸ‘¤ Guest' : 'ðŸ‘¤ ' + user.username;

                    // Set progress
                    const percentage = this.getCompletionPercentage();
                    progressText.textContent = percentage + '% Complete';

                    // Set profile picture (generate avatar based on username)
                    const seed = user.username || 'Guest_User';
                    profilePic.src = `https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(seed)}`;
                } else {
                    // User not logged in
                    loginBtn.style.display = 'inline-block';
                    dashboard.style.display = 'none';
                }
            }

            setupEventListeners() {
                const logoutBtn = document.getElementById('logoutBtn');
                if (logoutBtn) {
                    logoutBtn.addEventListener('click', () => {
                        this.logout();
                    });
                }

                // Profile picture click to view more options
                const profilePic = document.getElementById('profilePic');
                if (profilePic) {
                    profilePic.addEventListener('click', () => {
                        this.showProfileOptions();
                    });
                }
            }

            logout() {
                const user = this.getUser();
                if (user?.isGuest) {
                    localStorage.removeItem('chessHubProgress_Guest_User');
                }
                localStorage.removeItem(this.storageKey);
                this.updateDashboard();
                alert('Logged out successfully!');
                window.location.href = 'login.html';
            }

            showProfileOptions() {
                const user = this.getUser();
                if (!user) return;

                const message = user.isGuest 
                    ? 'Guest Account\nProgress: ' + this.getCompletionPercentage() + '%' 
                    : 'User: ' + user.username + '\nProgress: ' + this.getCompletionPercentage() + '%';
                
                alert(message);
            }
        }

        // Initialize dashboard on page load
        document.addEventListener('DOMContentLoaded', () => {
            const authDashboard = new ChessAuthDashboard();
        });
    </script>
</body>
</html>